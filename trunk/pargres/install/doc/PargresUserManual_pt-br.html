<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title /><meta name="generator" content="StarOffice/OpenOffice.org XSLT (http://xml.openoffice.org/sx2ml)" /><meta name="created" content="2005-11-10T11:45:49" /><meta name="changed" content="2005-11-10T15:53:50" /><base href="." /><style type="text/css">
	@page { size: 20.999cm 29.699cm; margin-top: 2cm; margin-bottom: 2cm; margin-left: 2cm; margin-right: 2cm }
	table { border-collapse:collapse; border-spacing:0; empty-cells:show }
	td, th { vertical-align:top; }
	h1, h2, h3, h4, h5, h6 { clear:both }
	ol, ul { padding:0; }
	* { margin:0; }
	*.fr1 { font-size:12pt; margin-left:0cm; margin-right:0cm; margin-top:0cm; margin-bottom:0cm; vertical-align:top; text-align:center; padding:0cm; border-style:none; }
	*.fr2 { font-size:12pt; vertical-align:top; text-align:center; margin-left:0cm; margin-right:0cm; margin-top:0cm; margin-bottom:0cm; padding:0cm; border-style:none; }
	*.fr3 { font-size:12pt; vertical-align:top; margin-left:1cm; margin-right:0cm; margin-top:0cm; margin-bottom:1cm; }
	*.Frame { font-size:12pt; margin-left:0.201cm; margin-right:0.201cm; margin-top:0.201cm; margin-bottom:0.201cm; vertical-align:top; text-align:center; padding:0.15cm; border-width:0.0133cm; border-style:solid; border-color:#000000; }
	*.Graphics { font-size:12pt; vertical-align:top; text-align:center; }
	*.Caption { font-family:'Times New Roman'; font-size:10pt; margin-top:0.212cm; margin-bottom:0.212cm; font-style:italic; }
	*.Contents1 { font-family:'Times New Roman'; font-size:12pt; margin-left:0cm; margin-right:0cm; text-indent:0cm; }
	*.Contents2 { font-family:'Times New Roman'; font-size:12pt; margin-left:0.499cm; margin-right:0cm; text-indent:0cm; }
	*.ContentsHeading { font-family:Arial; font-size:16pt; margin-top:0.423cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-indent:0cm; font-weight:bold; }
	*.ContentsHeading { font-family:Arial; font-size:16pt; margin-top:0.423cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-indent:0cm; font-weight:bold; }
	*.Figura { font-family:'Times New Roman'; font-size:10pt; margin-top:0.212cm; margin-bottom:0.212cm; font-style:italic; }
	*.Framecontents { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; }
	*.Heading1 { font-family:Arial; font-size:115%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; }
	*.Heading1 { font-family:Arial; font-size:115%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; }
	*.Heading2 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; }
	*.Heading2 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; }
	*.Heading3 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; }
	*.Heading3 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; }
	*.Heading4 { font-family:Arial; font-size:85%; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; }
	*.Heading4 { font-family:Arial; font-size:85%; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; }
	*.Heading5 { font-family:Arial; font-size:85%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; }
	*.Heading5 { font-family:Arial; font-size:85%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; }
	*.Heading6 { font-family:Arial; font-size:75%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; }
	*.Heading6 { font-family:Arial; font-size:75%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; }
	*.Heading7 { font-family:Arial; font-size:75%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; }
	*.Heading7 { font-family:Arial; font-size:75%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; }
	*.Index { font-family:'Times New Roman'; font-size:12pt; }
	*.List { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; }
	*.P1 { font-family:'Times New Roman'; font-size:20pt; margin-top:0cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-indent:1cm; font-weight:bold; }
	*.P10 { font-family:'Times New Roman'; font-size:12pt; margin-left:0cm; margin-right:0cm; margin-top:0cm; margin-bottom:0cm; text-align:justify ! important; text-indent:1cm; }
	*.P11 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P11 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P12 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; text-align:justify ! important; text-indent:1cm; }
	*.P13 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P13 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P14 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P15 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P16 { font-family:Arial; font-size:115%; margin-top:0cm; margin-bottom:0cm; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P16 { font-family:Arial; font-size:115%; margin-top:0cm; margin-bottom:0cm; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P17 { font-family:'Times New Roman'; font-size:12pt; margin-left:0cm; margin-right:0cm; margin-top:0cm; margin-bottom:0cm; text-align:left ! important; text-indent:1cm; }
	*.P18 { font-family:Arial; font-size:115%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P18 { font-family:Arial; font-size:115%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P19 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P19 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P2 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P20 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-align:justify ! important; text-indent:1cm; }
	*.P21 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P21 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P22 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-align:justify ! important; text-indent:1cm; font-style:normal; }
	*.P23 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:normal; font-weight:bold; margin-left:0cm; margin-right:0cm; text-align:justify ! important; text-indent:1cm; }
	*.P23 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:normal; font-weight:bold; margin-left:0cm; margin-right:0cm; text-align:justify ! important; text-indent:1cm; }
	*.P24 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; text-align:justify ! important; text-indent:1cm; font-style:normal; }
	*.P25 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-align:justify ! important; text-indent:1cm; font-style:normal; }
	*.P26 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-align:justify ! important; text-indent:1cm; font-style:normal; }
	*.P27 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; text-align:justify ! important; text-indent:1cm; font-style:normal; }
	*.P28 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; text-align:justify ! important; text-indent:1cm; font-style:italic; }
	*.P29 { font-family:'Courier New'; font-size:10pt; text-align:justify ! important; }
	*.P3 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; text-indent:1cm; font-weight:bold; }
	*.P30 { font-family:'Courier New'; font-size:10pt; }
	*.P31 { font-family:'Times New Roman'; font-size:12pt; }
	*.P32 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-align:justify ! important; text-indent:0cm; font-style:normal; }
	*.P33 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P33 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P34 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P35 { font-family:Arial; font-size:115%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P35 { font-family:Arial; font-size:115%; margin-top:0.423cm; margin-bottom:0.212cm; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P36 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P37 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; text-indent:1cm; font-style:italic; }
	*.P38 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P39 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; text-indent:1cm; font-style:normal; }
	*.P4 { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0cm; margin-left:0cm; margin-right:0cm; text-indent:1cm; font-weight:normal; }
	*.P5 { font-family:'Times New Roman'; font-size:12pt; margin-left:0.499cm; margin-right:0cm; text-indent:0cm; }
	*.P6 { font-family:'Times New Roman'; font-size:12pt; margin-left:0cm; margin-right:0cm; text-indent:0cm; }
	*.P7 { font-family:Arial; font-size:14pt; margin-top:0cm; margin-bottom:0cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P7 { font-family:Arial; font-size:14pt; margin-top:0cm; margin-bottom:0cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P8 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P8 { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; font-style:italic; font-weight:bold; margin-left:0cm; margin-right:0cm; text-indent:1cm; }
	*.P9 { font-family:'Times New Roman'; font-size:12pt; margin-left:0cm; margin-right:0cm; margin-top:0cm; margin-bottom:0cm; text-align:justify ! important; text-indent:1cm; }
	*.Standard { font-family:'Times New Roman'; font-size:12pt; }
	*.Subtitle { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; text-align:center ! important; font-style:italic; }
	*.Subtitle { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; text-align:center ! important; font-style:italic; }
	*.TableContents { font-family:'Times New Roman'; font-size:12pt; }
	*.Textbody { font-family:'Times New Roman'; font-size:12pt; margin-top:0cm; margin-bottom:0.212cm; }
	*.Title { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; }
	*.Title { font-family:Arial; font-size:14pt; margin-top:0.423cm; margin-bottom:0.212cm; }
	*.Sect1 { }
	*.Tabela1 { width:15.231cm; margin-left:0.884cm; margin-right:0.884cm; float:none; }
	*.Tabela1A1 { padding:0.097cm; border-width:0.0133cm; border-style:solid; border-color:#000000; }
	*.Tabela1A { width:15.229cm; }
	*.BulletSymbols { font-family:StarSymbol; font-size:9pt; }
	*.Internetlink { color:#000080; text-decoration:underline; }
	*.NumberingSymbols { }
	*.T1 { font-style:italic; font-weight:bold; }
	*.T2 { font-style:italic; }
	*.T3 { font-family:'Times New Roman'; font-size:12pt; }
	*.T4 { font-family:'Times New Roman'; font-size:12pt; }
	*.T5 { text-decoration:underline; }
	*.T6 { font-style:normal; }
	*.T7 { font-style:normal; }
	*.T8 { font-family:'Courier New'; font-size:10pt; }
	*.VisitedInternetLink { color:#800000; text-decoration:underline; }
	</style></head><body dir="ltr"><p class="P1">ParGRES - Manual  do Usuário</p><p class="P2">Autores: Bernardo Miranda (<a href="mailto:bmiranda@cos.ufrj.br">bmiranda@cos.ufrj.br</a>)</p><p class="P2">                Marcelo Mourácio (?@?.br)</p><p class="P2"> </p><p class="P3">Controle de Modificações </p><p class="P4">15/11/2005 – revisão inicial </p><p class="ContentsHeading">Sumário </p><table border="0" cellspacing="0" cellpadding="0" class="P5"><colgroup><col style="width: 16.499cm" /></colgroup><tr><td>ParGRES – Visão Geral</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P5"><colgroup><col style="width: 16.499cm" /></colgroup><tr><td>O que é ParGRES?</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P5"><colgroup><col style="width: 16.499cm" /></colgroup><tr><td>Quanto custa?</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P5"><colgroup><col style="width: 16.499cm" /></colgroup><tr><td>Requisitos</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P6"><colgroup><col style="width: 16.999cm" /></colgroup><tr><td>Situações de uso do ParGRES</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P6"><colgroup><col style="width: 16.999cm" /></colgroup><tr><td>Arquitetura</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P6"><colgroup><col style="width: 16.999cm" /></colgroup><tr><td>Instalação</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P5"><colgroup><col style="width: 16.499cm" /></colgroup><tr><td>Instalação gráfica</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P5"><colgroup><col style="width: 16.499cm" /></colgroup><tr><td>Instalação modo texto</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P5"><colgroup><col style="width: 16.499cm" /></colgroup><tr><td>Estrutura de diretório</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P6"><colgroup><col style="width: 16.999cm" /></colgroup><tr><td>Configuração</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P5"><colgroup><col style="width: 16.499cm" /></colgroup><tr><td>Configuração do CQP</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P5"><colgroup><col style="width: 16.499cm" /></colgroup><tr><td>Configuração do NQP</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P6"><colgroup><col style="width: 16.999cm" /></colgroup><tr><td>Execução</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P5"><colgroup><col style="width: 16.499cm" /></colgroup><tr><td>Execução do NQP</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P5"><colgroup><col style="width: 16.499cm" /></colgroup><tr><td>Execução do CQP</td></tr></table><p class="Textbody"> </p><div class="Sect1"><h2 class="P7"><a name="ParGRES__E2_80_93_Vis_C3_A3o_Geral" />ParGRES – Visão Geral</h2></div><p class="P2"> </p><h2 class="P8"><a name="O_que__C3_A9_ParGRES_3F" />O que é ParGRES?</h2><p class="P2">ParGRES = <span class="T1">Par</span>allel Post<span class="T1">greS</span>QL</p><p class="P9">ParGRES é um <span class="T2">middleware</span> entre a aplicação e os SGBDs (Sistemas de Gerência de Banco de Dados), capaz de coordenar as operações dos mesmos a fim de obter o paralelismo desejado utilizando um cluster de PCs padrão. O paralelismo do ParGRES é voltado para as consultas pesadas típicas de aplicações OLAP e propomos uma solução que combina diferentes técnicas de processamento paralelo de consultas em um cluster de BD, além de tratar requisições de atualização de dados e o balanceamento de carga entre os nós do sistema. Na implementação atual, o SGBD utilizado em cada nó é o PostgreSQL (<a href="http://www.postgresql.org/">http://www.postgresql.org)</a>. No entanto, a comunicação entre o ParGRES e o SGBD é baseada no padrão SQL, não sendo dependente de nenhuma característica específica do SGBD. Isto flexibiliza a escolha pela organização do SGBD a ser utilizado, e torna possível a utilização de SGBDs heterogêneos.</p><p class="P10"><span class="T3">Para fazer distribuição da carga entre os nós, o ParGRES usa o Particionamento Virtual (PV) da base de dados. Simular ao tradicional esquema de Particionamento Horizontal (PH), o PV oferece flexibilidade ao administrador do cluster e mantém a replicação total da base de dados. Para maiores de detalhes do seu funcionamento, visite o site que contém artigo relacionados: </span><a href="http://pargres.nacad.ufrj.br/Documentos"><span class="T4">http://pargres.nacad.ufrj.br/Documentos</span></a><span class="T3">.</span></p><h2 class="P11"><a name="Quanto_custa_3F" />Quanto custa?</h2><p class="P12"><span class="T5">O ParGRES pode ser usado sem nenhum custo</span>. Este middleware é software livre e tem todas as garantias oferecidas pela licenças LGPL (<a href="http://www.opensource.org/licenses/lgpl-license.php">http://www.opensource.org/licenses/lgpl-license.php</a>). O PostgreSQL também é livre e tem licença BSD (<a href="http://www.opensource.org/licenses/bsd-license.php">http://www.opensource.org/licenses/bsd-license.php</a>). Qualquer custo adicional gerado pelo ParGRES está relacionado a aquisição de novos computadores para compor o cluster e de novas licenças, caso desejar adquirir um SGBD comercial.</p><h2 class="P13"><a name="Requisitos" />Requisitos</h2><ul style="margin-left:1.25cm;"><li class="P14" style="margin-left:0cm;"><p class="P14" style="margin-left:0.25cm;">A aplicação cliente deve acessar os recursos do SGBD via um driver JDBC <a href="http://java.sun.com/products/jdbc/">http://java.sun.com/products/jdbc</a>. Durante a instalação do ParGRES, este driver vai ser substituído pelo driver JDBC do ParGRES.</p></li><li class="P14" style="margin-left:0cm;"><p class="P14" style="margin-left:0.25cm;">Java SDK 1.5 (<a href="http://java.sun.com/j2se/1.5.0/">http://java.sun.com/j2se/1.5.0</a>)</p></li><li class="P14" style="margin-left:0cm;"><p class="P14" style="margin-left:0.25cm;">Rede do cluster deve ser compatível com TCP/IP </p></li></ul><p class="P15">Como o ParGRES é implementado em Java, o seu funcionamento não depende de nenhum sistema operacional específico. </p><h1 class="Heading1"><a name="Situa_C3_A7_C3_B5es_de_uso_do_ParGRES" />Situações de uso do ParGRES</h1><p class="P15">O ParGRES deve ser usado quando torna-se necessário reduzir o tempo de execução de consultas demoradas. Geralmente esta demora é atribuída ao grande volume de dados que deve analisar. Apesar de ter como foco consultas pesadas, o ParGRES também atende ambientes de grande volume de consultas simples. Os cenários típicos são: </p><ul style="margin-left:1.25cm;"><li class="P14" style="margin-left:0cm;"><p class="P14" style="margin-left:0.25cm;">Ferramentas de análise a decisão </p></li><li class="P14" style="margin-left:0cm;"><p class="P14" style="margin-left:0.25cm;">Relatório gerenciais </p></li><li class="P14" style="margin-left:0cm;"><p class="P14" style="margin-left:0.25cm;">Mineração de dados </p><p class="P14" style="margin-left:0.25cm;"> </p></li></ul><div class="Sect1"><h1 class="P16"><a name="Arquitetura" />Arquitetura</h1></div><p class="P2"> </p><p class="P2">O ParGRES possui arquitetura descentralizada (Figura 1). Seus componentes se encontram distribuídos entre os nós do cluster. Há componentes globais e locais. Componentes globais executam tarefas que envolvem vários nós do cluster, enquanto os locais executam tarefas em apenas um nó. O componente global são o Intermediador e o Processador de Consultas de Cluster (CQP – Cluster Query Processor). O  Intermediador representa qualquer redirecionador de conexão segura (ex.: <span class="T2">ssh port-forward</span>), pois o cluster geralmente possui um firewall que restringe o acesso remoto. Se o cluster não tiver esta restrição, o Intermediador não é necessário. A aplicação se conectará diretamente ao CQP. Os componentes locais são o Processador de Consultas de Nó (NQP – Node Query Processor) e o SGBD PostgreSQL</p><p class="P17"> </p><div class="P2"><div style="width: 13.389cm; " id="Quadro1" class="fr1"><div class="Figura"><img width="585" height="300" alt="" src="file:///C:/eclipse3.1/workspace/bmiranda_Pargres/install/doc/" class="fr2" />Figura 1: Arquitetura do ParGRES</div></div></div><div class="Sect1"><h1 class="P18"><a name="Instala_C3_A7_C3_A3o" />Instalação</h1></div><p class="P2">Existem duas formas de instalação: gráfica e console. Como o Pargres possui uma arquitetura distribuída, o processo de instalação deve ser repetido em todos nós. No entanto, na maioria das vezes este processo pode ser simplificado escolhendo para instalação um diretório compartilhado acessível por todos os nós. Desta forma, o processo de configuração do ParGRES fica centralizado em um único local. </p><h2 class="P19"><a name="Instala_C3_A7_C3_A3o_gr_C3_A1fica" />Instalação gráfica</h2><p class="P20">No site oficial do ParGRES, faça o <span class="T2">download </span><span class="T6">d</span>o arquivo pargres-<span class="T2">n</span>-GuiInstaller.jar, onde <span class="T2">n</span><span class="T6"> é o número da versão atual. Caso o sistemas operacional tenha o arquivo *.jar associado a JVM (</span><span class="T2">Java Virtual Machine</span><span class="T6">), basta iniciar o instalador com o duplo-clique. Caso contrário, use a linha de comando da seguinte forma: </span></p><p class="P20"><span class="T2">&gt; java -jar  /meu-diretorio/pargres-n-GuiInstaller.jar</span><span class="T6">.  </span></p><p class="P20"><span class="T6">O diretório </span><span class="T2">meu-diretorio </span><span class="T6">é local onde está armazenado o instalador.</span></p><h2 class="P21"><a name="Instala_C3_A7_C3_A3o_modo_texto" />Instalação modo texto</h2><p class="P22">Para os casos que o nó só é acessível pelo modo texto, usamos esta forma de instalação. Deve ser feito o <span class="T2">download</span> do arquivo pargres-<span class="T2">n</span>.tar.gz, onde <span class="T2">n</span> é o número da versão atual. Este é um arquivo compactado que possui toda a estrutura de diretório final da instalação. No linux, por exemplo, esta descompactação é feita usando o seguintes comando:</p><p class="P22">&gt; gunzip <span class="T2">/meu-diretorio/</span>pargres-n.tar.gz</p><p class="P22">&gt; tar -xvvf <span class="T2">/meu-diretorio/</span>pargres-n.tar</p><p class="P20"><span class="T6">O diretório </span><span class="T2">meu-diretorio </span><span class="T6">é local onde está armazenado o instalador. </span><span class="T6">Para Windows, pode ser usado qualquer descompactador popular como o Winrar (</span><a href="http://www.rarlab.com/"><span class="T7">http://www.rarlab.com</span></a><span class="T6">).</span></p><h2 class="P23"><a name="Estrutura_de_diret_C3_B3rio" />Estrutura de diretório</h2><div class="P24"><img width="141" height="177" alt="" src="file:///C:/eclipse3.1/workspace/bmiranda_Pargres/install/doc/" class="fr3" />A estrutura de diretório após a instalação fica de acordo com a ilustração ao lado.</div><p class="P24">O diretório <span class="T2">bin</span> contém todos os arquivos executáveis do ParGRES. É ali que encontramos os <span class="T2">scripts</span> que inicialização CQP, o NQP e o console de administração.</p><p class="P24">O diretório <span class="T2">config </span>é usado para armazenar os arquivos de configuração do cluster de banco de dados. </p><p class="P24">No diretório <span class="T2">demo</span> encontramos alguns arquivos que executam testes de demonstração do ParGRES.</p><p class="P24">O diretório <span class="T2">docs</span>, além de conter este manual, contém o documentação do código fonte deste projeto seguindo o padrão JavaDoc.</p><p class="P24">Os termos usados neste software estão definidos em pacotes de linguagens regionais do diretório <span class="T2">language</span>.</p><p class="P24">O diretório <span class="T2">lib </span>armazena todos as bibliotecas Java usadas pelo ParGRES.</p><p class="P24">O desinstalador do ParGRES pode ser encontrado no diretório <span class="T2">Uninstaller</span>.</p><p class="P24">No diretório <span class="T2">util</span><span class="T6">, pode ser encontrado o SQuirreL (</span><a href="http://squirrel-sql.sourceforge.net/"><span class="T7">http://squirrel-sql.sourceforge.net</span></a><span class="T6">) – cliente de admistração de SGBDs para Java – e a mínima base de dados usada durante os testes de demonstração.</span></p><p class="P22"> </p><div class="Sect1"><h1 class="P18"><a name="Configura_C3_A7_C3_A3o" />Configuração</h1></div><h2 class="P23"><a name="Configura_C3_A7_C3_A3o_do_CQP" />Configuração do CQP</h2><p class="P25">O arquivo de configurações do CQP é feito por meio de um XML. As seguintes configurações deve ser feitas no CQP: </p><ul style="margin-left:1.25cm;"><li class="P26" style="margin-left:0cm;"><p class="P26" style="margin-left:0.25cm;">usuários do sistema </p></li><li class="P26" style="margin-left:0cm;"><p class="P26" style="margin-left:0.25cm;">nós do cluster </p></li><li class="P26" style="margin-left:0cm;"><p class="P26" style="margin-left:0.25cm;">particionamento virtual </p></li></ul><p class="P27">A configuração do CQP é representada pela tag <span class="T2">pargres</span>. Cada um dos itens listados são representados pelas tags <span class="T2">users</span>, <span class="T2">cluster</span> e <span class="T2">metadata, </span>respectivamente.</p><p class="P24">Atualmente a lista de usuários da aplicação cliente que podem acessar os recursos do ParGRES é estática. A listagem é definida dentro deste arquivo de configuração pela tag <span class="T2">users</span>. Cada usuário é definido na tag <span class="T2">user</span> e tem como atributos obrigatórios nome de usuário e senha.</p><p class="P24">O ParGRES controla recursos de um conjunto de computadores. Em cada computador temos um NQP em executação. Estes NQPs são identificado pelo par nome da máquina e porta. A listagem de NQPs é formada pela tag <span class="T2">cluster</span>. A informações de cada NQP é representadas pelo tag <span class="T2">node.</span></p><p class="P24">O tag <span class="T2">metadata</span> identifica quais são as particições virtuais do sistema. A partição é definida na tag <span class="T2">vp</span> pelo nome da tabela e o campo usado para particionar virtualmente a tabela.</p><p class="P24"><span class="T6">Abaixo segue um exemplo de configuração do CQP.</span></p><p class="P28"> </p><div style="text-align:left"><table border="0" cellspacing="0" cellpadding="0" class="Tabela1"><colgroup><col width="666" /></colgroup><tr><td style="text-align:left;width:15.229cm; " class="Tabela1A1"><p class="P29">&lt;?xml version="1.0"?&gt; </p><p class="P30">&lt;!DOCTYPE pargres [ </p><p class="P30"> &lt;!ELEMENT pargres (users,cluster,metadata)&gt;</p><p class="P30"> &lt;!ELEMENT users (user*)&gt;</p><p class="P30"> &lt;!ELEMENT user EMPTY&gt;</p><p class="P30"> &lt;!ATTLIST user name CDATA #REQUIRED&gt;                </p><p class="P30"> &lt;!ATTLIST user password CDATA #REQUIRED&gt;        </p><p class="P30"> &lt;!ELEMENT cluster (node*)&gt; </p><p class="P30"> &lt;!ELEMENT node EMPTY&gt;</p><p class="P30"> &lt;!ATTLIST node host CDATA #REQUIRED&gt;        </p><p class="P30"> &lt;!ATTLIST node port CDATA #REQUIRED&gt;         </p><p class="P30"> &lt;!ELEMENT metadata (vp*)&gt; </p><p class="P30"> &lt;!ELEMENT vp EMPTY&gt; </p><p class="P30"> &lt;!ATTLIST vp table CDATA #REQUIRED&gt;        </p><p class="P30"> &lt;!ATTLIST vp field CDATA #REQUIRED&gt;                        </p><p class="P30">]&gt; </p><p class="P30"> </p><p class="P30">&lt;pargres&gt; </p><p class="P30">        &lt;users&gt;</p><p class="P30">                &lt;user name="user" password=""/&gt;</p><p class="P30">        &lt;/users&gt;</p><p class="P30">        &lt;cluster&gt;</p><p class="P30">                &lt;node host="node1" port="3001"/&gt;</p><p class="P30">                &lt;node host="node2" port="3001"/&gt;</p><p class="P30">        &lt;/cluster&gt;</p><p class="P30">        &lt;metadata&gt;</p><p class="P30">                &lt;vp table="lineitem" field="l_orderkey"/&gt;</p><p class="P30">                &lt;vp table="orders" field="o_orderkey"/&gt;                </p><p class="P30">        &lt;/metadata&gt;</p><p class="P31"><span class="T8">&lt;/pargres&gt;</span></p></td></tr></table></div><p class="P32"> </p><h2 class="P33"><a name="Configura_C3_A7_C3_A3o_do_NQP" />Configuração do NQP</h2><p class="P34">O NQP não possui nenhum arquivo de configuração estático. Toda configuração necessária é feita em tempo de execução.  </p><div class="Sect1"><h1 class="P35"><a name="Execu_C3_A7_C3_A3o" />Execução</h1></div><p class="P36">Tanto o CQP quanto o NQP são iniciados por linha de comando. Primeiramente, os NQPs deve ser iniciados, para então executar o CQP. </p><h2 class="P33"><a name="Execu_C3_A7_C3_A3o_do_NQP" />Execução do NQP</h2><p class="P36">Dentro do diretório <span class="T2">bin, </span><span class="T6">execute</span><span class="T2"> </span><span class="T6">a seguinte </span>linha de comando criar uma instância de NQP:</p><p class="P37">&gt; ./run_nqp.sh porta_nqp conexão_jdbc usuário senha </p><p class="P34">Os parâmetros significam o seguinte: </p><ul style="margin-left:1.25cm;"><li class="P38" style="margin-left:0cm;"><p class="P38" style="margin-left:0.25cm;">porta_nqp - porta usada para comunicação com o CQP; </p></li><li class="P38" style="margin-left:0cm;"><p class="P38" style="margin-left:0.25cm;">conexão_jdbc – string de conexão JDBC (ex.: jdbc:postgresql://localhost/db); </p></li><li class="P38" style="margin-left:0cm;"><p class="P38" style="margin-left:0.25cm;">usuário – nome do usuário do SGBD; </p></li><li class="P38" style="margin-left:0cm;"><p class="P38" style="margin-left:0.25cm;">senha – senha de acesso correspondente. </p></li></ul><h2 class="P33"><a name="Execu_C3_A7_C3_A3o_do_CQP" />Execução do CQP</h2><p class="P36">Apenas no nó escolhido para instância do CQP, <span class="T6">o execute seguinte comando a partir do diretório </span><span class="T2">bin</span><span class="T6">:</span></p><p class="P37">&gt; ./run_cqp.sh config/config.xml </p><p class="P39">Este script tem apenas uma parâmetro e este é aquele que define qual é o atual arquivo de configuração do CQP. </p><p class="P39"> </p></body></html>